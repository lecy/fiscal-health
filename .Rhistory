## Packages
library( haven )        # importing data files
library( tidyr )        # data wrangling
library( dplyr )        # data wrangling
library( ggplot2 )      # fancy plots
library( ggthemes )     # fancy plots
library( scales )       # re-scaling numbers
library( stargazer )    # nice tables
library( pander )       # format tables for HTML
library( knitr )        # formatting functions
library( DT )           # embed datasets in HTML docs
library( urbnthemes )   # setting the color scheme to Urban's
set_urbn_defaults(style = "print")
source( "r-functions.R" )
variable.label <- "Debt to Equity Ratio"
# stargazer table print type
# run chunk for live RMD sessions
s.type <- "text"
# stargazer table print type
# resets to html when knitting
s.type <- "html"
## Load Data
# local:
# core <- readRDS( "02-data-wrangled/core.rds" )
# from github:
URL <- "https://github.com/lecy/fiscal-health/raw/main/02-data-wrangled/core.rds"
core <- readRDS(gzcon(url( URL )))
# Preview the data:
# table( core$NTMAJ12 ) %>% kable()
# head(core) %>% pander()
install.packages("urbnthemes" )
total_debt <- ( core$accntspayableend )
# can't divide by zero
unrs_net_assets <- (core$unrstrctnetasstsend )
unrs_net_assets[ unrs_net_assets == 0 ] <- NA
der <- (total_debt/unrs_net_assets)
summary( core$der )
nrow(core)
summary(core$accntspayableend)
summary( core$unrstrctnetasstsend )
summary( core$der )
core$der <- ( total_debt / unrs_net_assets )
summary( core$der )
x.05 <- quantile( core$der, 0.05, na.rm=T )
x.95 <- quantile( core$der, 0.95, na.rm=T )
x.05
x.95
remotes::install_github("UrbanInstitute/urbnthemes", build_vignettes = TRUE)
library( haven )        # importing data files
library( tidyr )        # data wrangling
library( dplyr )        # data wrangling
library( ggplot2 )      # fancy plots
library( ggthemes )     # fancy plots
library( scales )       # re-scaling numbers
library( stargazer )    # nice tables
library( pander )       # format tables for HTML
library( DT )           # embed datasets in HTML docs
source( "r-functions.R" )
